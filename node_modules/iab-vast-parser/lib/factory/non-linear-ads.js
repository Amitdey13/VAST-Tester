'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _iabVastModel = require('iab-vast-model');

var _nonLinear = require('./non-linear');

var _nonLinear2 = _interopRequireDefault(_nonLinear);

var _mapTrackingEvents = require('../util/map-tracking-events');

var _mapTrackingEvents2 = _interopRequireDefault(_mapTrackingEvents);

var _isNonEmptyArray = require('../util/is-non-empty-array');

var _isNonEmptyArray2 = _interopRequireDefault(_isNonEmptyArray);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

exports.default = function ($creative) {
  var $nonLinearAds = $creative.nonLinearAds;
  var nonLinearAds = new _iabVastModel.NonLinearAds();
  if ($nonLinearAds.nonLinear != null) {
    var _nonLinearAds$nonLine;

    (_nonLinearAds$nonLine = nonLinearAds.nonLinears).push.apply(_nonLinearAds$nonLine, _toConsumableArray($nonLinearAds.nonLinear.map(_nonLinear2.default)));
  }
  if ($nonLinearAds.trackingEvents != null && (0, _isNonEmptyArray2.default)($nonLinearAds.trackingEvents.tracking)) {
    nonLinearAds.trackingEvents = new _iabVastModel.TrackingEvents();
    (0, _mapTrackingEvents2.default)($nonLinearAds.trackingEvents, nonLinearAds.trackingEvents);
  }
  return nonLinearAds;
};